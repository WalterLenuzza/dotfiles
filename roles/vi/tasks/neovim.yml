- name: "Neovim : config directory"
  file:
    path: "{{ xdg_config_home }}/nvim"
    state: directory
    mode: 0700

- name: "Neovim : autoload directory"
  file:
    path: "{{ xdg_data_home }}/nvim/site/autoload"
    state: directory
    mode: 0700

- name: "Neovim : download pathogen.vim"
  get_url:
    url: "{{ pathogen_vim_url }}"
    dest: "{{ xdg_data_home }}/nvim/site/autoload/pathogen.vim"
    checksum: "{{ pathogen_vim_sha }}"

- name: "Neovim : clone plugins"
  git:
    repo: "{{ item.url }}"
    dest: "{{ xdg_data_home }}/nvim/bundle/{{ item.dest }}"
  with_items: "{{ vim_plugins }}"

- name: "Neovim : config"
  template:
    src: neovim.j2
    dest: "{{ xdg_config_home }}/nvim/init.vim"

#- name: "Neovim: promptline theme"
#template:
#  src: promptline.j2
#  dest: "{{ xdg_data_home }}/nvim/plugged/promptline.vim/autoload/promptline/themes/custom.vim"

#- name: "Neovim: install vim-airline theme"
#  get_url:
#    url: "{{ vim_airline_theme_url }}"
#    dest: "{{ xdg_data_home }}/nvim/plugged/vim-airline/autoload/airline/themes/gruvbox.vim"
#    checksum: "{{ vim_airline_theme_sha }}"
#  register: install_vim_airline_theme
